<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¦™è›™å®¸çš„å¯¶å¯å¤¢</title>
    <style>
        /* ç°¡å–®çš„ç¾åŒ– (CSS) - é€™æ˜¯ç­†è¨˜è£¡çš„ã€Œç¾åŒ–ç•«é¢ã€ */
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f0f2f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #333; text-align: center; }
        .item { border-bottom: 1px solid #eee; padding: 10px 0; display: flex; justify-content: space-between; align-items: center; }
        .item:last-child { border-bottom: none; }
        .price { color: #e74c3c; font-weight: bold; }
        button { background-color: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; width: 100%; font-size: 16px; }
        button:hover { background-color: #2980b9; }
    </style>
</head>
<body>

<div class="container">
    <h1>å¦™è›™å®¸çš„å¯¶å¯å¤¢</h1>
    
    <div id="menu-list">
        <p style="text-align:center; color:gray;">è¼‰å…¥ä¸­...</p>
    </div>

    <br>
    <button onclick="fetchItems()">ğŸ”„ é‡æ–°æ•´ç†</button>
</div>

<script>
    // é€™æ˜¯ç­†è¨˜è£¡çš„ã€ŒJavaScript åŸºæœ¬èªæ³• + ä¸²æ¥å¾Œç«¯ APIã€
    
    // å®šç¾©ä¸€å€‹å‡½å¼ï¼šå»å¾Œç«¯æ‹¿è³‡æ–™
    async function fetchItems() {
        const menuList = document.getElementById('menu-list');
        menuList.innerHTML = '<p style="text-align:center; color:gray;">è¼‰å…¥ä¸­...</p>';

        try {
            // 1. æ‰“é›»è©±çµ¦å¾Œç«¯ (Fetch API)
            // æ³¨æ„ï¼šé€™è£¡çš„ç¶²å€å°±æ˜¯ä½  Swagger UI ä¸Šé¢é‚£å€‹ GET çš„ç¶²å€
            const response = await fetch('https://mwtpokemons.zeabur.app/api/v1/items/');
            
            // 2. æŠŠå›å‚³çš„è³‡æ–™è½‰æˆ JSON æ ¼å¼
            const items = await response.json();

            // 3. æŠŠè³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Š
            menuList.innerHTML = ''; // æ¸…ç©ºè¼‰å…¥ä¸­æ–‡å­—
            
            if (items.length === 0) {
                menuList.innerHTML = '<p style="text-align:center;">ç›®å‰æ²’æœ‰é¤é»ï¼Œè«‹å» Swagger UI æ–°å¢ï¼</p>';
                return;
            }

            // è·‘è¿´åœˆï¼ŒæŠŠæ¯ä¸€å€‹æ¼¢å ¡è®Šæˆ HTML
            items.forEach(item => {
                const itemHtml = `
                    <div class="item">
                        <div>
                            <strong>${item.name}</strong>
                            <div style="font-size: 0.9em; color: #666;">${item.description || 'ç„¡æè¿°'}</div>
                        </div>
                        <div class="price">$${item.price}</div>
                    </div>
                `;
                menuList.innerHTML += itemHtml;
            });

        } catch (error) {
            console.error('å‡ºéŒ¯äº†:', error);
            menuList.innerHTML = '<p style="color:red; text-align:center;">é€£ç·šå¤±æ•—ï¼è«‹ç¢ºèªå¾Œç«¯ä¼ºæœå™¨æœ‰é–‹ã€‚</p>';
        }
    }

    // ç¶²é ä¸€æ‰“é–‹å°±è‡ªå‹•åŸ·è¡Œä¸€æ¬¡
    fetchItems();
</script>

</body>
</html>